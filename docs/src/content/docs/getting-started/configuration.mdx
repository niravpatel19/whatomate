---
title: Configuration
description: Complete configuration reference for Whatomate
---

import { Aside } from '@astrojs/starlight/components';

Whatomate uses a TOML configuration file for all settings. By default, it looks for `config.toml` in the current directory.

## Configuration File

```toml
# Application settings
[app]
environment = "development"  # development, production
debug = true

# Server settings
[server]
host = "0.0.0.0"
port = 8080
read_timeout = 30
write_timeout = 30

# Database settings
[database]
host = "localhost"
port = 5432
user = "whatomate"
password = "your-password"
name = "whatomate"
sslmode = "disable"

# Redis settings
[redis]
host = "localhost"
port = 6379
password = ""
db = 0

# JWT settings
[jwt]
secret = "your-jwt-secret-key"
access_expiry = 3600      # 1 hour
refresh_expiry = 604800   # 7 days
```

## Environment Variables

Configuration values can be overridden using environment variables:

| Variable | Description |
|----------|-------------|
| `WHATOMATE_ENV` | Environment (development/production) |
| `WHATOMATE_DB_HOST` | Database host |
| `WHATOMATE_DB_PORT` | Database port |
| `WHATOMATE_DB_USER` | Database user |
| `WHATOMATE_DB_PASSWORD` | Database password |
| `WHATOMATE_DB_NAME` | Database name |
| `WHATOMATE_REDIS_HOST` | Redis host |
| `WHATOMATE_REDIS_PORT` | Redis port |
| `WHATOMATE_JWT_SECRET` | JWT signing secret |

## Database Setup

### PostgreSQL

```bash
# Create database
createdb whatomate

# Or using psql
psql -c "CREATE DATABASE whatomate;"
```

### Run Migrations

```bash
go run cmd/server/main.go -migrate
```

## WhatsApp API Configuration

Configure your WhatsApp Business API credentials in the application settings after logging in:

1. Navigate to **Settings** â†’ **Accounts**
2. Click **Add Account**
3. Enter your credentials:
   - **Phone Number ID** - From Meta Business Suite
   - **Business Account ID** - From Meta Business Suite
   - **Access Token** - Generated in Meta for Developers
   - **Webhook Verify Token** - Your custom verification token

<Aside type="caution">
  Keep your access token secure. Never commit it to version control or expose it in client-side code.
</Aside>

## Production Recommendations

For production deployments:

- Set `environment = "production"` and `debug = false`
- Use strong, unique values for `jwt.secret`
- Enable SSL for database connections (`sslmode = "require"`)
- Use Redis authentication in production
- Configure proper firewall rules
- Set up SSL/TLS termination (nginx, Caddy, or cloud load balancer)
